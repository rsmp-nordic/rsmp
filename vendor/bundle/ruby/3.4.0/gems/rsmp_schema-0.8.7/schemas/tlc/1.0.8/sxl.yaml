---
meta:
  name: tlc
  description: Traffic Light Controllers
  version: 1.0.8
objects:
  Traffic Light Controller:
    description:
    aggregated_status:
      1:
        title: Local mode
        description: Traffic Light Controller is in local mode. NTS has no control.
      2:
        title: No Communications
      3:
        title: High Priority Fault
        description: Traffic Light Controller is in fail safe mode; e.g. yellow flash
          or dark mode
      4:
        title: Medium Priority Fault
        description: |-
          Traffic Light Controller has a medium priority fault, but not in fail safe mode.
          E.g. several lamp faults or detector fault
      5:
        title: Low Priority Fault
        description: Traffic Light Controller has a low priority fault. E.g. Detector
          fault
      6:
        title: Connected / Normal - In Use
      7:
        title: Connected / Normal - Idle
        description: |-
          Traffic Light Controller dark according to configuration.
          NOTE! When dark according to configuration the controller is considered to be in use
      8:
        title: Not Connected
    functional_position:
    functional_state:
    alarms:
      A0001:
        description: |-
          Serious hardware error.
          Is a "major fault" defined according to 3.8 i EN12675 which causes the controller to switch to a "failure mode" according to 3.6 in EN12675.
        priority: 2
        category: D
      A0002:
        description: |-
          Less serious hardware error.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
      A0003:
        description: |-
          Serious configuration error.
          Is a "major fault" defined according to 3.8 in EN12675 which causes the controller to switch to a "failure mode" according to 3.6 in EN12675.
        priority: 2
        category: D
      A0004:
        description: |-
          Less serious configuration error.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
      A0005:
        description: |-
          Communication error between traffic light controllers / synchronisation error.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
      A0006:
        description: |-
          Safety error
          Is a "major fault" defined according to 3.8 in EN12675 which causes the controller to switch to a "failure mode" according to 3.6 in EN12675.
        priority: 2
        category: D
      A0007:
        description: |-
          Communication error between one or multiple traffic light controllers and central control system.
          Used for communication errors with the central system. Includes NTP connection loss if the TLC is configured to use NTP.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
      A0009:
        description: |-
          Other error.
          Used for other errors not covered by any other alarm type
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
    statuses:
      S0001:
        description: |-
          Signal group status.
          Provides the status of each signal group, including basic information such as green, yellow and red. But also detailed technical information.
          Can be used to draw a live signal group diagram as well provide diagnostic information about the performance of the controller.
        arguments:
          signalgroupstatus:
            type: string
            description: Signal group status as text field
            pattern: "^[a-hA-G0-9N-P]*$"
          cyclecounter:
            type: integer
            description: Cycle counter
            range: "[0-999]"
          basecyclecounter:
            type: integer
            description: Base cycle counter
            range: "[0-999]"
          stage:
            type: integer
            description: Current stage (isolated)
            range: "[0-999]"
      S0002:
        description: |-
          Detector logic status.
          Provides the status of all detector logics of the controller.
          Can be used to draw a live signal group diagram as well provide diagnostic information about the performance of the controller. Can also be used for bus priority, external control systems, and much more.
        arguments:
          detectorlogicstatus:
            type: string
            description: Detector logic status as text field
      S0003:
        description: |-
          Input status.
          Input (1-255) of the controllers general purpose I/O.
          Input is used where the traffic light controller must react to external control. It could be external detectors, bus priority, and much more.
        arguments:
          inputstatus:
            type: string
            description: Input status as text field
          extendedinputstatus:
            type: string
            description: Extended input status as text field
      S0004:
        description: |-
          Output status.
          Output (1-255) of the controllers general purpose I/O.
          Can be used for all types of output where the traffic light controller needs to control other equipment. Can be used for bus priority, coordination between traffic controllers, external control systems, and much more.
        arguments:
          outputstatus:
            type: string
            description: Output status as text field
          extendedoutputstatus:
            type: string
            description: Extended output status as text field
      S0005:
        description: |-
          Traffic Light Controller starting.
          The traffic signal is starting, e.g. it is in startup mode and has not begun working normally yet.
          During startup mode the traffic controller shows dark, red, yellow flash or using the predetermined start cycle (minimum times).
        arguments:
          status:
            type: boolean
            description: |-
              False: Controller is not in start up mode
              True: Controller is currently in start up mode
      S0006:
        description: |-
          Emergency stage.
          The status is active during emergency prioritization.
          Used in situations where full priority is given in the emergency vehicle program.
        arguments:
          status:
            type: boolean
            description: |-
              False: Emergency stage inactive
              True: Emergency stage active
          emergencystage:
            type: integer
            description: Number of emergency stage
            range: "[1-255]"
      S0007:
        description: |-
          Controller switched on.
          The controller is active and is not in dark mode.
          Used to determine if the controller is operating, e.g. it shows red, green or yellow to the vehicles.
          During maintenance work the controller might be using dark mode (no output to the signal heads).
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: Traffic Light Controller in dark mode
              True: Traffic Light Controller not in dark mode
      S0008:
        description: |-
          Manual control.
          Traffic control deactivated in controller
          Signal timings is controlled manually by service personnel using the operating panel of the controller.
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: Manual control inactive
              True: Manual control active
      S0009:
        description: |-
          Fixed time control.
          Traffic actuated control deactivated and a pre-timed control is used.
          Usually only used in case normal detectors can't be used, e.g. during maintenance work.
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: Fixed time control inactive
              True: Fixed time control active
      S0010:
        description: |-
          Isolated control.
          Isolated control mode indicates that the controller operates independently of any other traffic light controllers. This may different depending on traffic program (time plan).
          Used to determine if the controller is operating independently or operating with other controllers (coordination).
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: Isolated control disabled
              True: Isolated control enabled (Vehicle actuated control or Fixed time control)
      S0011:
        description: |-
          Yellow flash.
          The controller shows yellow flash.
          Yellow flash may be used during a serious fault (depending on configuration) or maintenance work. It can also be manually set using M0001.
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: Yellow flash disabled
              True: Yellow flash enabled
      S0012:
        description: |-
          All red.
          The controller show all red.
          All red can be manually set using the controllers operating panel during maintenance work.
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: boolean_list
            description: |-
              False: All red disabled
              True: All red enabled
      S0013:
        description: |-
          Police key
          The controller is forced to dark mode or yellow flash.
          The "police key" is a external control switch present in some controllers that manually switches the controller to either dark mode or yellow flash.
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          status:
            type: integer_list
            values:
              0: disabled
              1: dark mode
              2: yellow flash
      S0014:
        description: |-
          Current time plan.
          The current time plan (signal program) used in the controller. There may be 1-255 predefined time plans.
          The time plan (signal program) may change signal timings, cycle time, control strategy and much more. Typical usage is is scenario based control where change of program is used to change priority etc.
        arguments:
          status:
            type: integer
            description: Current time plan
            range: "[1-255]"
      S0015:
        description: |-
          Current traffic situation.
          The current traffic situation used in the controller.
          Used for area-based control where a command can be sent to a master traffic light controller about which predefined traffic situation to use (1-255).
          Traffic situation is a concept used to divide multiple TLC's into areas and sub-areas. The traffic situation gives the possibility to change the TLC sub-area dynamically depending on the time of day and the traffic flow. Depending on the traffic situation each TLC selects the time plan dynamically.
        arguments:
          status:
            type: integer
            description: Current traffic situation
            range: "[1-255]"
      S0016:
        description: |-
          Number of detector logics.
          Can be used by the management system to check the number of detector logics configured in the controller.
        arguments:
          number:
            type: long
            description: Number of detector logics
            range: "[1-65025]"
      S0017:
        description: |-
          Number of signal groups.
          Can be used for the management system to check the number of signal groups configured in the controller.
        arguments:
          number:
            type: long
            description: Number of signal groups
            range: "[1-65025]"
      S0018:
        description: |-
          Number of time plans
          Can be used for the management system to check the number of time plans configured in the controller.
        arguments:
          number:
            type: long
            description: Number of time plans (depreciated)
            range: "[1-65025]"
      S0019:
        description: |-
          Number of traffic situations.
          Can be used for the management system to check the number of traffic situations configured in the controller.
        arguments:
          number:
            type: long
            description: Number of traffic situations
            range: "[1-65025]"
      S0020:
        description: |-
          Control mode.
          Can be used for the management system to check the current control mode (startup, normal, standby, failure, test).
        arguments:
          intersection:
            type: integer_list
            description: |-
              0: Not applicable (only one intersection exists or applicable for all intersection of the traffic light controller)
              Other value: Intersection number
            range: "[0-255]"
          controlmode:
            type: string_list
            values:
              startup: Startup mode
              control: Normal control
              standby: Standby mode
              failure: Failure mode
              test: Test mode
      S0021:
        description: |-
          Manually set detector logic.
          Provides status of detector logic (1-255) regarding if they are either forced to true or false.
          Can be used to connect RSMP compatible detection equipment to the traffic light controller. Can also be used for prioritization.
        arguments:
          detectorlogics:
            type: string
            description: Manually set detector logics (1/0) as text field
            pattern: "^[01]*$"
      S0091:
        description: |-
          Operator logged in/out OP-panel.
          Provides information if maintenance personnel is currently working on site.
        arguments:
          user:
            description: |-
              nobody: No one logged in
              <username>: User currently logged in
            type: string
          status:
            type: string
            values:
              login: Somebody currently logged in
              logout: Nobody currently logged in
      S0092:
        description: |-
          Operator logged in/out web-interface.
          Provides information if maintenance personnel is currently working with the controller.
        arguments:
          user:
            description: |-
              nobody: No one logged in
              <username>: User currently logged in
            type: string
          status:
            type: string
            values:
              login: Somebody currently logged in
              logout: Nobody currently logged in
      S0095:
        description: |-
          Version of Traffic Light Controller.
          Provides diagnostic version information.
        arguments:
          status:
            type: string
            description: Manufacturer, product name and version of traffic light controller
      S0096:
        description: |-
          Current date and time
          Provides diagnostic information about the current date and time set in the controller.
        arguments:
          year:
            type: integer
            description: 'Year according to format YYYY. NOTE: UTC is used'
            range: YYYY
          month:
            type: integer
            description: 'Month (01-12) according to format MM. Note: UTC is used'
            range: MM
          day:
            type: integer
            description: 'Day of month (01-31) according to format DD.  Note: UTC
              is used'
            range: DD
          hour:
            type: integer
            description: 'Hour of day (00-23) according to format DD. Note: UTC is
              used'
            range: HH
          minute:
            type: integer
            description: 'Minute (00-59) according to format MM. Note: UTC is used'
            range: MM
          second:
            type: integer
            description: 'Second (00-59) according to format SS. Note: UTC is used'
            range: SS
    commands:
      M0001:
        description: |-
          Sets functional position.
          Sets the controller to yellow flash, dark mode or normal control.
          Requires security code 2.
        arguments:
          status:
            type: string
            description: Set operating mode
            values:
              NormalControl: Normal Control
              YellowFlash: Enables yellow flash
              Dark: Enables dark mode
          securityCode:
            type: string_list
            description: Security code 2
          timeout:
            type: integer_list
            description: |-
              Time in minutes until controller automatically reverts to previous functional position.
              0=no automatic return
            min: 0
            max: 1440
          intersection:
            type: integer_list
            description: Intersection number
            min: 0
            max: 255
        command: setValue
      M0002:
        description: |-
          Sets current time plan.
          Change of traffic program of the traffic light controller.
          Typical usages is scenario based control where change of program is used to change signal timings etc.
          This command changes the signal timings for optimal traffic flow.
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: |-
              False: Controller uses time plan according to programming
              True: Controller uses time plan according to command
          securityCode:
            type: string
            description: Security code 2
          timeplan:
            type: integer
            description: designation of time plan
            range: "[1-255]"
        command: setPlan
      M0003:
        description: |-
          Sets traffic situation the controller uses.
          Used for area-based control where a command can be sent to a master traffic light controller about which predefined traffic situation to use (1-255).
          Traffic situation is a concept used to divide multiple TLC's into areas and sub-areas. The traffic situation gives the possibility to change the TLC sub-area dynamically depending on the time of day and the traffic flow. Depending on the traffic situation each TLC selects the time plan dynamically.
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: |-
              False: Controller uses traffic situation according to own programming
              True: Controller uses traffic situation according to command
          securityCode:
            type: string
            description: Security code 2
          traficsituation:
            type: integer
            description: designation of traficsituation
            range: "[1-255]"
        command: setTrafficSituation
      M0004:
        description: |-
          Restarts Traffic Light Controller.
          Used in the event of serious faults in the device where a restart is considered to be able to remedy a problem.
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: 'True: Restart controller'
          securityCode:
            type: string
            description: Security code 2
        command: setRestart
      M0005:
        description: |-
          Activate emergency route.
          The function is made for emergency prioritization. Works in the same way as the M0006 and M0008 where the traffic light controller responds to an input.
          Should be used in situations where full priority is given in the emergency vehicle program.
          Requires security code 2.
        arguments:
          status:
            type: boolean
            description: |-
              False: Activate emergency route
              True: Deactivate emergency route
          securityCode:
            type: string
            description: Security code 2
          emergencyroute:
            type: integer
            description: Number of emergency route
            range: "[1-255]"
        command: setEmergency
      M0006:
        description: |-
          Activate input.
          Set given input (1-255) of the controllers general purpose I/O to either true or false.
          The function can provide an input to the traffic light controller on which a predefined action can be taken.
          Can be used for all types of input where the traffic light controller must react to external control.
          Typical usages are bus priority, coordination between traffic controllers, external control systems, and much more.
          Requires security code 2.
        arguments:
          status:
            type: boolean
            description: |-
              False: Deactivate input
              True: Activate input
          securityCode:
            type: string
            description: Security code 2
          input:
            type: integer
            description: Number of Input
            range: "[1-255]"
        command: setInput
      M0007:
        description: |-
          Activate fixed time control.
          Deactivates the traffic actuated control using detectors and activates pre-timed control.
          Can be used in case normal detectors can't be used, e.g. during maintenance work.
          Requires security code 2.
        arguments:
          status:
            type: boolean
            description: |-
              False: Deactivate fixed time control
              True: Activate fixed time control
          securityCode:
            type: string
            description: Security code 2
        command: setFixedTime
      M0012:
        description: |-
          Request start or stop of a series of signal groups.
          Starts or stops several signal groups.
          This command was introduced due to coordination requirements needing to set many signal groups to green and red at the same time and M0010 and M0012 being to slow to send a message for each signal group individually.
          Although this command is intended to be used with coordination it is not actually specified to be used for this yet. It is reserved in the SXL for possible future use.
          Intended for use with coordination of signaling systems where a traffic light controller communicates with neighboring controllers.
          Only used when a primary controller orders signal group of other controller to green or red (Coordination with external control bits).
          May also include purposes for adaptive control where a UTC system or a local traffic light controller takes over the phase control (stage control).
          Requires security code 2.
        arguments:
          status:
            type: string
            description: |-
              Orders signal groups to green or red. Sets a block of 16 signal groups at a time. Can be repeated to set several blocks of 16 signal groups. Values are separated with comma. Blocks are separated with semicolon. Since semicolon breaks the SXL csv-format, colon is used in example below.
              
              1=Order signal group to green
              0=Order signal group to red
              
              Format: [Offset],[Bits to set],[Bits to unset]:...
              
              Offset sets where the 16 inputs starts from followed by two 16 bit values telling which bit to set and unset in binary format, i.e. first bit have value 1 and last bit have value 32768.
              
              Example 1:
              "5, 4134, 65" sets input 6,7,10,17 = on and 5,11 = off
              (Input starts from no. 5 and bit 1,2,5,12 = 1 and bit 0,6 = 0)
              
              Example 2:
              "22, 1, 4" sets input 22 = on and 24 = off
              (Input starts from no. 22 and bit 0 = 1 and bit 2 = 0)
              
              And both these examples could be sent in the same message as:
              "5,4143,65:22,1,4"
              
              Such a message would order signal group 6,7,10,17,22 to green and signal group 5,11,24 to red
          securityCode:
            type: string
            description: Security code 2
        command: setStart
      M0013:
        description: |-
          Activate a series of inputs.
          Set given inputs (1-255) of the controllers general purpose I/O to either true or false.
          This command was introduced due to coordination requirements needing to set many inputs to true/false at the same time and M0006 being to slow to send a message for each input individually. With this command many inputs can be set to true/false at the same time using a single RSMP message.
          Can be used for all types of input where the traffic light controller must react to external control. Typical usages are bus priority, coordination between traffic controllers, external control systems, and much more.
          Requires security code 2
        arguments:
          status:
            type: string
            description: |-
              Sets/Unsets a block of 16 inputs at a time. Can be repeated to set several blocks of 16 inputs. Values are separated with comma. Blocks are separated with semicolon. Since semicolon breaks the SXL csv-format, colon, ":" is used in example below.
              
              Format: [Offset],[Bits to set],[Bits to unset]:...
              
              Offset sets where the 16 inputs starts from followed by two 16 bit values telling which bit to set and unset in binary format, i.e. first bit have value 1 and last bit have value 32768.
              
              Example 1:
              "5, 4134, 65" sets input 6,7,10,17 = on and 5,11 = off
              (Input starts from no. 5 and bit 1,2,5,12 = 1 and bit 0,6 = 0)
              
              Example 2:
              "22, 1, 4" sets input 22 = on and 24 = off
              (Input starts from no. 22 and bit 0 = 1 and bit 2 = 0)
              
              And both thease examples could be sent in the same message as:
              "5,4143:65:22,1,4"
              
              Such a message would activate input 6,7,10,17,22 and deactivate input 5,11,24
          securityCode:
            type: string
            description: Security code 2
        command: setInput
      M0019:
        description: |-
          Force input.
          Force a given input (1-255) of the controllers general purpose I/O to either True or False. Can be used for all types of input where the traffic light controller must react to external control.
          Can be used for bus priority, coordination between traffic controllers, external control systems, and much more.
          Requires security code 2.
        arguments:
          status:
            type: boolean
            description: |-
              False: Force input
              True: Release input
          securityCode:
            type: string
            description: Security code 2
          input:
            type: integer
            description: Number of Input
            range: "[1-255]"
          inputValue:
            type: boolean
            description: |-
              False: input forced to False
              True: input forced to True
        command: setInput
      M0103:
        description: |-
          Set security code.
          Change the security code to use when sending commands
          Security codes are used as an extra layer of security in many commands. They need to match between the supervision system and the traffic light controller in order for the commands to be executed.
        arguments:
          status:
            type: string
            values:
              Level1: Change security code 1
              Level2: Change security code 2
          oldSecurityCode:
            type: string
            description: Previous security code
          newSecurityCode:
            type: string
            description: New security code
        command: setSecurityCode
      M0104:
        description: |-
          Set clock.
          Can be used to manually set the clock of the traffic light controller if automatic  time synchronization (NTP or watchdog sync) is not available. For instance, during maintenance work.
          Requires security code 1
        arguments:
          securityCode:
            type: string
            description: Security code 1
          year:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Year according to YYYY
            range: "[YYYY]"
          month:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Month according to MM (01-12)
            range: "[MM]"
          day:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Day in month according to DD (01-31)
            range: "[DD]"
          hour:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Hour according to HH (00-23)
            range: "[HH]"
          minute:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Minute according to MM (00-59)
            range: "[MM]"
          second:
            type: integer
            description: |-
              Changes internal clock. Note: UTC is used
              Second according to SS (00-59)
            range: "[SS]"
        command: setDate
  Signal group:
    description:
    alarms:
      A0008:
        description: |-
          Dead lock error.
          Used for dead lock errors.
          For instance; a signal group has requested green but is unable to switch due to a conflicting signal group for an extended period of time. At some point the request times out and the controller goes failure mode. The cause for this error is due to configuration errors or external sources.
          Is a "major fault" defined according to 3.8 in EN12675 which causes the controller to switch to a "failure mode" according to 3.6 in EN12675.
        priority: 2
        category: D
        arguments:
          timeplan:
            type: integer
            description: Current time plan
            range: "[designation]"
      A0101:
        description: |-
          Pushbutton error.
          Used for push buttons.
        priority: 3
        category: D
      A0201:
        description: |-
          Serious lamp error.
          Used for lamp errors.
          Is a "major fault" defined according to 3.8 in EN12675 which causes the controller to switch to a "failure mode" according to 3.6 in EN12675.
        priority: 2
        category: D
        arguments:
          color:
            type: string
            description: Color of lamp
            values:
              red: red
              yellow: yellow
              green: green
      A0202:
        description: |-
          Less serious lamp error.
          Used for lamp errors.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
        arguments:
          color:
            type: string
            description: Color of lamp
            values:
              red: red
              yellow: yellow
              green: green
    statuses:
    commands:
      M0010:
        description: |-
          Start of signal group. Orders a signal group to green.
          Although this command is intended to be used with coordination it is not actually specified to be used for this yet. It is reserved in the SXL for possible future use.
          Intended for use with coordination of signaling systems where a traffic light controller communicates with neighboring controllers. Only used when a primary controller orders signal group of other controller to green or red (Coordination with external control bits).
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: |-
              False: No command (default)
              True: Order a signal group to green
          securityCode:
            type: string
            description: Security code 2
        command: setStart
      M0011:
        description: |-
          Stop of signal group. Orders a signal group to red.
          Although this command is intended to be used with coordination it is not actually specified to be used for this yet. It is reserved in the SXL for possible future use.
          Intended for use with coordination of signaling systems where a traffic light controller communicates with neighboring controllers. Only used when a primary controller orders signal group of other controller to green or red (Coordination with external control bits).
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: |-
              False: No command (default)
              True: Order a signal group to red
          securityCode:
            type: string
            description: Security code 2
        command: setStop
  Detector logic:
    description:
    alarms:
      A0301:
        description: |-
          Detector error (hardware).
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
        arguments:
          detector:
            type: string
            description: Designation of the detector (hardware)
            range: "[designation]"
          type:
            type: string
            description: Type of detector
            values:
              loop: Inductive detector loop
              input: External input
          errormode:
            type: string
            description: Detector forced on/off while detector error
            values: ['on','off']
          manual:
            type: boolean
            description: Manually controlled detector logic (True/False)
      A0302:
        description: |-
          Detector error (logic error).
          For instance; detector continuously on or off during an extended time.
          Is a "minor fault" defined according to 3.11 in EN12675.
        priority: 3
        category: D
        arguments:
          detector:
            type: string
            description: Designation of the detector (hardware)
            range: "[designation]"
          type:
            type: string
            description: Type of detector.
            values:
              loop: Inductive detector loop
              input: External input
          errormode:
            type: string
            description: Detector forced on/off while detector error
            values: ['on','off']
          manual:
            type: boolean
            description: Manually controlled detector logic (True/False)
          logicerror:
            type: string
            description: Type of logic error
            values:
              always_off: no detection during predefined max time
              always_on: detection constantly on during predefined max time
              intermittent: intermittent logic fault (flutter)
    statuses:
      S0201:
        description: |-
          Traffic Counting: Number of vehicles.
          Used for Traffic counting.
        arguments:
          starttime:
            type: timestamp
            description: Time stamp for start of measuring. Format according to W3C
              XML dateTime with a resolution of 3 decimal places. All time stamps
              in UTC. E.g. 2009-10-02T14:34:34.341Z
          vehicles:
            type: long
            description: Number of vehicles on a given detector logic (since last
              update)
            range: "[number]"
      S0202:
        description: |-
          Traffic Counting: Vehicle speed.
          Used for Traffic counting.
        arguments:
          starttime:
            type: timestamp
            description: |-
              Time stamp for start of measuring. Format according to W3C
              XML dateTime with a resolution of 3 decimal places. All time stamps
              in UTC. E.g. 2009-10-02T14:34:34.341Z
          speed:
            type: integer
            description: Average speed in km/h
            range: "[speed]"
      S0203:
        description: |-
          Traffic Counting: Occupancy.
          Used for Traffic counting.
        arguments:
          starttime:
            type: timestamp
            description: |-
              Time stamp for start of measuring. Format according to W3C
              XML dateTime with a resolution of 3 decimal places. All time stamps
              in UTC. E.g. 2009-10-02T14:34:34.341Z
          occupancy:
            type: integer
            description: Occupancy in percent (0-100%)
            range: "[0-100]"
      S0204:
        description: |-
          Traffic Counting: Number of vehicles of given classification.
          Used for Traffic counting.
        arguments:
          starttime:
            type: timestamp
            description: |-
              Time stamp for start of measuring. Format according to W3C
              XML dateTime with a resolution of 3 decimal places. All time stamps
              in UTC. E.g. 2009-10-02T14:34:34.341Z
          P:
            type: long
            description: Number of cars
            range: "[number]"
          PS:
            type: long
            description: Number of cars with trailers
            range: "[number]"
          L:
            type: long
            description: Number of trucks
            range: "[number]"
          LS:
            type: long
            description: Number of trucks with trailers
            range: "[number]"
          B:
            type: long
            description: Number of busses
            range: "[number]"
          SP:
            type: long
            description: Number of trams
            range: "[number]"
          MC:
            type: long
            description: Number of motor cycles
            range: "[number]"
          C:
            type: long
            description: Number of bicycles
            range: "[number]"
          F:
            type: long
            description: Number of pedestrians
            range: "[number]"
    commands:
      M0008:
        description: |-
          Sets manual activation of detector logic.
          Set given detector logic (1-255) to either true or false.
          Can e.g. be used to connect RSMP compatible detection equipment to the traffic light controller. Can also be used for prioritization.
          Requires security code 2
        arguments:
          status:
            type: boolean
            description: |-
              False: Deactivate manual control of detector logic
              True: Activate manual control of detector logic
          securityCode:
            type: string
            description: Security code 2
          mode:
            type: boolean
            description: |-
              False: Deactivate detector logic
              True: Activate detector logic
        command: setForceDetectorLogic
